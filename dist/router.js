!function(n){function t(n){var t,i,o={};for(t in n)i=n[t].split("="),o[i[0]]=i[1];return o}function i(){var n,i,h,r;n=location.hash,o!==n&&(o=n,i=n.match(/\/.*\//),h=n.replace(/^#!.*\//,"").split(";"),r="function"==typeof c[i]?c[i]:a,r.call(this,t(h)))}var o="~",c={},a=function(){};n.router={add:function(n,t){return c[n]=t,this},go:function(n){location.hash=n},def:function(n){return a=n,this},init:function(){i(),"onhashchange"in n?n.onhashchange=i:setInterval(function(){i()},100)}}}(this);